<% layout('layouts/boilerplate') %>

    <link href="/assets/css/apps/scrumboard.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/forms/theme-checkbox-radio.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/users/account-setting.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="/plugins/dropify/dropify.min.css">
    <link href="/assets/css/components/custom-countdown.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/scrollspyNav.css" rel="stylesheet" type="text/css">
    <!--  BEGIN CONTENT AREA  -->
    <div id="content" class="main-content mt-5 pt-3">
        <div class="layout-px-spacing">

            <%- include('../partials/flash/flash.ejs') %>


                <!-- Modal -->
                <div class="modal fade" id="deleteConformation" tabindex="-1" aria-labelledby="deleteConformationLabel"
                    style="display: none;" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content" id="deleteConformationLabel">
                            <div class="modal-header">
                                <div class="icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="feather feather-trash-2">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path
                                            d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                        </path>
                                        <line x1="10" y1="11" x2="10" y2="17"></line>
                                        <line x1="14" y1="11" x2="14" y2="17"></line>
                                    </svg>
                                </div>
                                <h5 class="modal-title" id="exampleModalLabel">Delete Pass request?</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <p class="">If you proceed to delete, then this pass request will be COMPLETELY deleted
                                    from the system.</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn" data-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-danger deleteConfirm"
                                    data-remove="task">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Block ui model -->
                <div class="modal fade text-left" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                    style="display: none;" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content" id="modal-reload">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Reason of Decline
                                    (<small>Optional</small>)
                                </h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="input-group mb-4">
                                        <textarea class="form-control" aria-label="With textarea" id="passReason"
                                            required=""></textarea>
                                        <div class="invalid-feedback">
                                            Please provide reason of pass.
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn" data-dismiss="modal">Close</button>

                                <button id="modal-blockui" type="button" class="btn btn-danger">Decline</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row scrumboard" id="cancel-row">
                    <div class="col-lg-12 layout-spacing">

                        <% if (passRequest.dayPassRequest || passRequest.nightPassRequest){ %>
                            <h1>Pass Requests Status</h1>
                            <div class="task-list-section flex-wrap">
                                <% if (passRequest.nightPassRequest){ %>
                                    <div data-section="s-new" class=" mb-4 mr-2" data-connect="">
                                        <div class="connect-sorting">
                                            <div class="">

                                                <div id="newRequests"
                                                    class="card flex-row flex-wrap col-12 overflow-hidden border-bottom"
                                                    style="background:none; box-shadow:none;">

                                                    <div class="card-body bg-white">
                                                        <div class="position-absolute pl-3" style="bottom: 0; left:0;">
                                                            <% if (passRequest.nightPassRequest.seen){ %>
                                                                <div class="bs-popover rounded text-success"
                                                                    style="cursor:default;" data-container="body"
                                                                    data-trigger="hover"
                                                                    data-content="Your request is seen">
                                                                    <svg fill="#509f50" viewBox="0 0 24 24" width="15"
                                                                        height="15" xmlns="http://www.w3.org/2000/svg"
                                                                        stroke="#509f50">
                                                                        <g id="SVGRepo_bgCarrier" stroke-width="0">
                                                                        </g>
                                                                        <g id="SVGRepo_tracerCarrier"
                                                                            stroke-linecap="round"
                                                                            stroke-linejoin="round"></g>
                                                                        <g id="SVGRepo_iconCarrier">
                                                                            <path
                                                                                d="M20.169,5.243l-10,9a1,1,0,0,1-1.376-.036l-5-5A1,1,0,1,1,5.207,7.793l4.329,4.329,9.3-8.365a1,1,0,1,1,1.338,1.486ZM18.831,9.757,9.536,18.122,5.207,13.793a1,1,0,0,0-1.414,1.414l5,5a1,1,0,0,0,1.376.036l10-9a1,1,0,0,0-1.338-1.486Z">
                                                                            </path>
                                                                        </g>
                                                                    </svg>Seen
                                                                </div>
                                                                <% }else{ %>
                                                                    <div class="bs-popover rounded text-danger"
                                                                        style="cursor:default;" data-container="body"
                                                                        data-trigger="hover"
                                                                        data-content="Your request is not seen yet">
                                                                        <svg viewBox="0 0 24 24" fill="none" width="18"
                                                                            height="18"
                                                                            xmlns="http://www.w3.org/2000/svg"
                                                                            stroke="#c41212">
                                                                            <g id="SVGRepo_bgCarrier" stroke-width="0">
                                                                            </g>
                                                                            <g id="SVGRepo_tracerCarrier"
                                                                                stroke-linecap="round"
                                                                                stroke-linejoin="round"></g>
                                                                            <g id="SVGRepo_iconCarrier">
                                                                                <path
                                                                                    d="M4.89163 13.2687L9.16582 17.5427L18.7085 8"
                                                                                    stroke="#000000" stroke-width="2.5"
                                                                                    stroke-linecap="round"
                                                                                    stroke-linejoin="round"></path>
                                                                            </g>
                                                                        </svg>Not Seen
                                                                    </div>
                                                                    <% } %>
                                                        </div>

                                                        <div class="task-header d-flex flex-column position-relative">
                                                            <div
                                                                class="media d-flex justify-content-center align-items-center mb-3 border-bottom">
                                                                <a href="/dormitory/student/<%= hostellite.username %>"
                                                                    class="w-img mr-3">
                                                                    <% if (hostellite.profileImage){ %>
                                                                        <img src="/hostel-files/hostellite-profile-images/<%= hostellite.profileImage %>"
                                                                            alt="avatar">
                                                                        <% }else{ %>

                                                                            <img src="/assets/img/profile-6.jpg"
                                                                                alt="avatar">
                                                                            <% } %>
                                                                </a>
                                                                <div class="media-body d-flex flex-column">
                                                                    <h6 class="d-flex align-items-center">
                                                                        <%= hostellite.fullName %>
                                                                    </h6>
                                                                    <p class="d-flex align-items-center">
                                                                        Hostel <%= hostellite.hostelInfo.hostelNo %>
                                                                            ,
                                                                            Room
                                                                            #
                                                                            <%= hostellite.hostelInfo.roomNo %>
                                                                    </p>
                                                                    <small data-taskdate="08 Aug 2020">
                                                                        Pass Request Time

                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" viewBox="0 0 24 24"
                                                                            fill="none" 3 stroke="currentColor"
                                                                            stroke-width="2" stroke-linecap="round"
                                                                            stroke-linejoin="round"
                                                                            class="feather feather-calendar">
                                                                            <rect x="3" y="4" width="18" height="18"
                                                                                rx="2" ry="2">
                                                                            </rect>
                                                                            <line x1="16" y1="2" x2="16" y2="6">
                                                                            </line>
                                                                            <line x1="8" y1="2" x2="8" y2="6">
                                                                            </line>
                                                                            <line x1="3" y1="10" x2="21" y2="10">
                                                                            </line>
                                                                        </svg>
                                                                        <%= passRequest.nightPassRequest.passTime.getDate()
                                                                            %>/<%=
                                                                                passRequest.nightPassRequest.passTime.getMonth()
                                                                                %>/<%=
                                                                                    passRequest.nightPassRequest.passTime.getFullYear()
                                                                                    %>
                                                                                    (<small>
                                                                                        <%=
                                                                                            ((passRequest.nightPassRequest.passTime.getHours()>
                                                                                            12) ?
                                                                                            (passRequest.nightPassRequest.passTime.getHours()
                                                                                            -12) :
                                                                                            passRequest.nightPassRequest.passTime.getHours())+":"+passRequest.nightPassRequest.passTime.getMinutes()
                                                                                            +
                                                                                            ((passRequest.nightPassRequest.passTime.getHours()>
                                                                                            12) ? " PM" : " AM")
                                                                                            %>
                                                                                    </small>)
                                                                    </small>
                                                                </div>



                                                            </div>
                                                        </div>


                                                        <div class="task-body ml-4 mr-4">
                                                            <div class="task-content p-2 rounded border-dotted">
                                                                <p class="" data-tasktext="">
                                                                    <%= passRequest.nightPassRequest.passReason %>
                                                                </p>

                                                            </div>

                                                            <div class="task-bottom m-0 d-flex flex-column">
                                                                <div class="tb-section-2">

                                                                    <% if
                                                                        (passRequest.nightPassRequest.passType=='night'
                                                                        ){ %>
                                                                        <span data-taskdate="08 Aug 2020">
                                                                            Type: Night Pass
                                                                            <svg style="cursor: unset;" class=" ml-2"
                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                stroke="black" stroke-width="2"
                                                                                stroke-linecap="round"
                                                                                stroke-linejoin="round">
                                                                                <path
                                                                                    d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z">
                                                                                </path>
                                                                            </svg>
                                                                        </span>

                                                                        <% }else if
                                                                            (passRequest.nightPassRequest.passType=='day'
                                                                            ){ %>
                                                                            <span data-taskdate="">
                                                                                Type: Day Pass
                                                                                <svg style="cursor: unset;"
                                                                                    class=" ml-2"
                                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                                    width="24" height="24"
                                                                                    viewBox="0 0 24 24" fill="none"
                                                                                    stroke="black" stroke-width="2"
                                                                                    stroke-linecap="round"
                                                                                    stroke-linejoin="round">
                                                                                    <circle cx="12" cy="12" r="5">
                                                                                    </circle>
                                                                                    <line x1="12" y1="1" x2="12" y2="3">
                                                                                    </line>
                                                                                    <line x1="12" y1="21" x2="12"
                                                                                        y2="23">
                                                                                    </line>
                                                                                    <line x1="4.22" y1="4.22" x2="5.64"
                                                                                        y2="5.64">
                                                                                    </line>
                                                                                    <line x1="18.36" y1="18.36"
                                                                                        x2="19.78" y2="19.78">
                                                                                    </line>
                                                                                    <line x1="1" y1="12" x2="3" y2="12">
                                                                                    </line>
                                                                                    <line x1="21" y1="12" x2="23"
                                                                                        y2="12">
                                                                                    </line>
                                                                                    <line x1="4.22" y1="19.78" x2="5.64"
                                                                                        y2="18.36">
                                                                                    </line>
                                                                                    <line x1="18.36" y1="5.64"
                                                                                        x2="19.78" y2="4.22">
                                                                                    </line>
                                                                                </svg>
                                                                            </span>
                                                                            <% } %>
                                                                </div>

                                                            </div>
                                                            <div class="task-bottom m-0">
                                                                <div class="task-bottom m-0 w-100">
                                                                    <% if (!passRequest.nightPassRequest.rejected &&
                                                                        !passRequest.nightPassRequest.wardenDeleted){ %>
                                                                        <div class="d-flex border">
                                                                            <div
                                                                                class="bg-info p-2 d-flex justify-content-center align-items-center">
                                                                                Status
                                                                            </div>
                                                                            <% if (!passRequest.nightPassRequest.granted
                                                                                &&
                                                                                !passRequest.nightPassRequest.rejected){
                                                                                %>
                                                                                <div
                                                                                    class="p-2 text-danger justify-content-center align-items-center">
                                                                                    Pending..
                                                                                </div>
                                                                                <% }else if
                                                                                    (passRequest.nightPassRequest.granted
                                                                                    &&
                                                                                    !passRequest.nightPassRequest.rejected){
                                                                                    %>
                                                                                    <div
                                                                                        class="p-2 text-success d-flex justify-content-center align-items-center">
                                                                                        Granted
                                                                                    </div>
                                                                                    <% }else if
                                                                                        (passRequest.nightPassRequest.rejected){
                                                                                        %>
                                                                                        <div class="bs-popover rounded text-danger d-flex justify-content-center align-items-center p-2"
                                                                                            style="cursor:default;"
                                                                                            data-container="body"
                                                                                            data-trigger="hover"
                                                                                            data-content="Your Pass request is been rejected..">
                                                                                            Declined
                                                                                        </div>
                                                                                        <% } %>
                                                                        </div>
                                                                        <% }else if
                                                                            (passRequest.nightPassRequest.rejected){ %>
                                                                            <div class="d-column">
                                                                                <div class="d-flex">
                                                                                    <div
                                                                                        class="bg-info p-2 d-flex justify-content-center align-items-center">
                                                                                        Status
                                                                                    </div>
                                                                                    <div class="bs-popover border-left text-white bg-danger d-flex justify-content-center align-items-center p-2"
                                                                                        style="cursor:default;"
                                                                                        data-container="body"
                                                                                        data-trigger="hover"
                                                                                        data-content="Your Pass request is been rejected..">
                                                                                        Declined
                                                                                    </div>
                                                                                </div>
                                                                                <p class="mt-3">Decline Reason: <%=
                                                                                        (passRequest.nightPassRequest.declineReason
                                                                                        ?
                                                                                        passRequest.nightPassRequest.declineReason: 'Not Provided'
                                                                                        ) %>
                                                                                </p>
                                                                            </div>
                                                                            <% } else if
                                                                                (passRequest.nightPassRequest.wardenDeleted){
                                                                                %>
                                                                                <div class="">
                                                                                    <div class="d-flex">
                                                                                        <div class="bs-popover border-left text-white bg-danger d-flex justify-content-center align-items-center p-2"
                                                                                            style="cursor:default;"
                                                                                            data-container="body"
                                                                                            data-trigger="hover"
                                                                                            data-content="Your Pass request is deleted">
                                                                                            Pass Request Ignored
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <% } %>

                                                                                    <% if
                                                                                        (!passRequest.nightPassRequest.granted
                                                                                        &&
                                                                                        !passRequest.nightPassRequest.rejected){
                                                                                        %>

                                                                                        <% } %>

                                                                                            <% if
                                                                                                (!passRequest.nightPassRequest.granted){
                                                                                                %>
                                                                                                <div
                                                                                                    class="tb-section-2 d-flex align-items-center ml-auto">
                                                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                                                        data-pass-id="<%= passRequest.nightPassRequest._id  %>"
                                                                                                        width="24"
                                                                                                        height="24"
                                                                                                        viewBox="0 0 24 24"
                                                                                                        fill="none"
                                                                                                        stroke="currentColor"
                                                                                                        stroke-width="2"
                                                                                                        stroke-linecap="round"
                                                                                                        stroke-linejoin="round"
                                                                                                        class="feather
                                                                                                feather-trash-2
                                                                                                s-task-delete
                                                                                                list-delete deleteBtn"
                                                                                                        href="javascript:void(0);">
                                                                                                        <polyline
                                                                                                            points="3 6 5 6 21 6">
                                                                                                        </polyline>
                                                                                                        <path
                                                                                                            d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                                                                                        </path>
                                                                                                        <line x1="10"
                                                                                                            y1="11"
                                                                                                            x2="10"
                                                                                                            y2="17">
                                                                                                        </line>
                                                                                                        <line x1="14"
                                                                                                            y1="11"
                                                                                                            x2="14"
                                                                                                            y2="17">
                                                                                                        </line>
                                                                                                    </svg>

                                                                                                </div>

                                                                                                <% } %>
                                                                </div>
                                                            </div>
                                                        </div>






                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <% } if (passRequest.dayPassRequest){ %>
                                        <div data-section="s-new" class="mb-4 mr-2" data-connect="">
                                            <div class="connect-sorting">
                                                <div class="">

                                                    <div id="newRequests"
                                                        class="card flex-row flex-wrap col-12 overflow-hidden border-bottom"
                                                        style="background:none; box-shadow:none;">
                                                        <div class="card-body bg-white">
                                                            <div class="position-absolute pl-3"
                                                                style="bottom: 0; left:0;">
                                                                <% if (passRequest.dayPassRequest.seen){ %>
                                                                    <div class="bs-popover rounded text-success"
                                                                        style="cursor:default;" data-container="body"
                                                                        data-trigger="hover"
                                                                        data-content="Your request is seen">
                                                                        <svg fill="#509f50" viewBox="0 0 24 24"
                                                                            width="15" height="15"
                                                                            xmlns="http://www.w3.org/2000/svg"
                                                                            stroke="#509f50">
                                                                            <g id="SVGRepo_bgCarrier" stroke-width="0">
                                                                            </g>
                                                                            <g id="SVGRepo_tracerCarrier"
                                                                                stroke-linecap="round"
                                                                                stroke-linejoin="round"></g>
                                                                            <g id="SVGRepo_iconCarrier">
                                                                                <path
                                                                                    d="M20.169,5.243l-10,9a1,1,0,0,1-1.376-.036l-5-5A1,1,0,1,1,5.207,7.793l4.329,4.329,9.3-8.365a1,1,0,1,1,1.338,1.486ZM18.831,9.757,9.536,18.122,5.207,13.793a1,1,0,0,0-1.414,1.414l5,5a1,1,0,0,0,1.376.036l10-9a1,1,0,0,0-1.338-1.486Z">
                                                                                </path>
                                                                            </g>
                                                                        </svg>Seen
                                                                    </div>
                                                                    <% }else{ %>
                                                                        <div class="bs-popover rounded text-danger"
                                                                            style="cursor:default;"
                                                                            data-container="body" data-trigger="hover"
                                                                            data-content="Your request is not seen yet">
                                                                            <svg viewBox="0 0 24 24" fill="none"
                                                                                width="18" height="18"
                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                stroke="#c41212">
                                                                                <g id="SVGRepo_bgCarrier"
                                                                                    stroke-width="0">
                                                                                </g>
                                                                                <g id="SVGRepo_tracerCarrier"
                                                                                    stroke-linecap="round"
                                                                                    stroke-linejoin="round"></g>
                                                                                <g id="SVGRepo_iconCarrier">
                                                                                    <path
                                                                                        d="M4.89163 13.2687L9.16582 17.5427L18.7085 8"
                                                                                        stroke="#000000"
                                                                                        stroke-width="2.5"
                                                                                        stroke-linecap="round"
                                                                                        stroke-linejoin="round">
                                                                                    </path>
                                                                                </g>
                                                                            </svg>Not Seen
                                                                        </div>
                                                                        <% } %>
                                                            </div>

                                                            <div
                                                                class="task-header d-flex flex-column position-relative">
                                                                <div
                                                                    class="media d-flex justify-content-center align-items-center mb-3 border-bottom">
                                                                    <a href="/dormitory/student/<%= hostellite.username %>"
                                                                        class="w-img mr-3">
                                                                        <% if (hostellite.profileImage){ %>
                                                                            <img src="/hostel-files/hostellite-profile-images/<%= hostellite.profileImage %>"
                                                                                alt="avatar">
                                                                            <% }else{ %>

                                                                                <img src="/assets/img/profile-6.jpg"
                                                                                    alt="avatar">
                                                                                <% } %>
                                                                    </a>
                                                                    <div class="media-body d-flex flex-column">
                                                                        <h6 class="d-flex align-items-center">
                                                                            <%= hostellite.fullName %>
                                                                        </h6>
                                                                        <p class="d-flex align-items-center">
                                                                            Hostel <%= hostellite.hostelInfo.hostelNo %>
                                                                                ,
                                                                                Room
                                                                                #
                                                                                <%= hostellite.hostelInfo.roomNo %>
                                                                        </p>
                                                                        <small data-taskdate="08 Aug 2020">
                                                                            Pass Request Time

                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                width="14" height="14"
                                                                                viewBox="0 0 24 24" fill="none" 3
                                                                                stroke="currentColor" stroke-width="2"
                                                                                stroke-linecap="round"
                                                                                stroke-linejoin="round"
                                                                                class="feather feather-calendar">
                                                                                <rect x="3" y="4" width="18" height="18"
                                                                                    rx="2" ry="2">
                                                                                </rect>
                                                                                <line x1="16" y1="2" x2="16" y2="6">
                                                                                </line>
                                                                                <line x1="8" y1="2" x2="8" y2="6">
                                                                                </line>
                                                                                <line x1="3" y1="10" x2="21" y2="10">
                                                                                </line>
                                                                            </svg>
                                                                            <%= passRequest.dayPassRequest.passTime.getDate()
                                                                                %>/<%=
                                                                                    passRequest.dayPassRequest.passTime.getMonth()
                                                                                    %>/<%=
                                                                                        passRequest.dayPassRequest.passTime.getFullYear()
                                                                                        %>
                                                                                        (<small>
                                                                                            <%=
                                                                                                ((passRequest.dayPassRequest.passTime.getHours()>
                                                                                                12) ?
                                                                                                (passRequest.dayPassRequest.passTime.getHours()
                                                                                                -12) :
                                                                                                passRequest.dayPassRequest.passTime.getHours())+":"+passRequest.dayPassRequest.passTime.getMinutes()
                                                                                                +
                                                                                                ((passRequest.dayPassRequest.passTime.getHours()>
                                                                                                12) ? " PM" : " AM")
                                                                                                %>
                                                                                        </small>)
                                                                        </small>
                                                                    </div>



                                                                </div>
                                                            </div>


                                                            <div class="task-body ml-4 mr-4">
                                                                <div class="task-content p-2 rounded border-dotted">
                                                                    <p class="" data-tasktext="">
                                                                        <%= passRequest.dayPassRequest.passReason %>
                                                                    </p>

                                                                </div>

                                                                <div class="task-bottom m-0 d-flex flex-column">
                                                                    <div class="tb-section-2">

                                                                        <% if
                                                                            (passRequest.dayPassRequest.passType=='night'
                                                                            ){ %>
                                                                            <span data-taskdate="08 Aug 2020">
                                                                                Type: Night Pass
                                                                                <svg style="cursor: unset;"
                                                                                    class=" ml-2"
                                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                                    width="24" height="24"
                                                                                    viewBox="0 0 24 24" fill="none"
                                                                                    stroke="black" stroke-width="2"
                                                                                    stroke-linecap="round"
                                                                                    stroke-linejoin="round">
                                                                                    <path
                                                                                        d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z">
                                                                                    </path>
                                                                                </svg>
                                                                            </span>

                                                                            <% }else if
                                                                                (passRequest.dayPassRequest.passType=='day'
                                                                                ){ %>
                                                                                <span data-taskdate="">
                                                                                    Type: Day Pass
                                                                                    <svg style="cursor: unset;"
                                                                                        class=" ml-2"
                                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                                        width="24" height="24"
                                                                                        viewBox="0 0 24 24" fill="none"
                                                                                        stroke="black" stroke-width="2"
                                                                                        stroke-linecap="round"
                                                                                        stroke-linejoin="round">
                                                                                        <circle cx="12" cy="12" r="5">
                                                                                        </circle>
                                                                                        <line x1="12" y1="1" x2="12"
                                                                                            y2="3">
                                                                                        </line>
                                                                                        <line x1="12" y1="21" x2="12"
                                                                                            y2="23">
                                                                                        </line>
                                                                                        <line x1="4.22" y1="4.22"
                                                                                            x2="5.64" y2="5.64">
                                                                                        </line>
                                                                                        <line x1="18.36" y1="18.36"
                                                                                            x2="19.78" y2="19.78">
                                                                                        </line>
                                                                                        <line x1="1" y1="12" x2="3"
                                                                                            y2="12">
                                                                                        </line>
                                                                                        <line x1="21" y1="12" x2="23"
                                                                                            y2="12">
                                                                                        </line>
                                                                                        <line x1="4.22" y1="19.78"
                                                                                            x2="5.64" y2="18.36">
                                                                                        </line>
                                                                                        <line x1="18.36" y1="5.64"
                                                                                            x2="19.78" y2="4.22">
                                                                                        </line>
                                                                                    </svg>
                                                                                </span>
                                                                                <% } %>
                                                                    </div>

                                                                </div>
                                                                <div class="task-bottom m-0">
                                                                    <div class="task-bottom m-0 w-100">
                                                                        <% if (!passRequest.dayPassRequest.rejected &&
                                                                            !passRequest.dayPassRequest.wardenDeleted){
                                                                            %>
                                                                            <div class="d-flex border">
                                                                                <div
                                                                                    class="bg-info p-2 d-flex justify-content-center align-items-center">
                                                                                    Status
                                                                                </div>
                                                                                <% if
                                                                                    (!passRequest.dayPassRequest.granted
                                                                                    &&
                                                                                    !passRequest.dayPassRequest.rejected){
                                                                                    %>
                                                                                    <div
                                                                                        class="p-2 text-danger justify-content-center align-items-center">
                                                                                        Pending..
                                                                                    </div>
                                                                                    <% }else if
                                                                                        (passRequest.dayPassRequest.granted
                                                                                        &&
                                                                                        !passRequest.dayPassRequest.rejected){
                                                                                        %>
                                                                                        <div
                                                                                            class="p-2 text-success d-flex justify-content-center align-items-center">
                                                                                            Granted
                                                                                        </div>
                                                                                        <% }else if
                                                                                            (passRequest.dayPassRequest.rejected){
                                                                                            %>
                                                                                            <div class="bs-popover rounded text-danger d-flex justify-content-center align-items-center p-2"
                                                                                                style="cursor:default;"
                                                                                                data-container="body"
                                                                                                data-trigger="hover"
                                                                                                data-content="Your Pass request is been rejected..">
                                                                                                Declined
                                                                                            </div>
                                                                                            <% } %>
                                                                            </div>
                                                                            <% }else if
                                                                                (passRequest.dayPassRequest.rejected){
                                                                                %>
                                                                                <div class="d-column">
                                                                                    <div class="d-flex">
                                                                                        <div
                                                                                            class="bg-info p-2 d-flex justify-content-center align-items-center">
                                                                                            Status
                                                                                        </div>
                                                                                        <div class="bs-popover border-left text-white bg-danger d-flex justify-content-center align-items-center p-2"
                                                                                            style="cursor:default;"
                                                                                            data-container="body"
                                                                                            data-trigger="hover"
                                                                                            data-content="Your Pass request is been rejected..">
                                                                                            Declined
                                                                                        </div>
                                                                                    </div>
                                                                                    <p class="mt-3">Decline Reason:
                                                                                        <%= (passRequest.dayPassRequest.declineReason
                                                                                            ?
                                                                                            passRequest.dayPassRequest.declineReason: 'Not Provided'
                                                                                            ) %>
                                                                                    </p>
                                                                                </div>
                                                                                <% }else if
                                                                                    (passRequest.dayPassRequest.wardenDeleted){
                                                                                    %>
                                                                                    <div class="">
                                                                                        <div class="d-flex">
                                                                                            <div class="bs-popover border-left text-white bg-danger d-flex justify-content-center align-items-center p-2"
                                                                                                style="cursor:default;"
                                                                                                data-container="body"
                                                                                                data-trigger="hover"
                                                                                                data-content="Your Pass request is deleted">
                                                                                                Pass Request Ignored
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <% } %>


                                                                                        <% if
                                                                                            (!passRequest.dayPassRequest.granted){
                                                                                            %>
                                                                                            <div
                                                                                                class="tb-section-2 align-items-center ml-auto">
                                                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                                                    data-pass-id="<%= passRequest.dayPassRequest._id %>"
                                                                                                    width="24"
                                                                                                    height="24"
                                                                                                    viewBox="0 0 24 24"
                                                                                                    fill="none"
                                                                                                    stroke="currentColor"
                                                                                                    stroke-width="2"
                                                                                                    stroke-linecap="round"
                                                                                                    stroke-linejoin="round"
                                                                                                    class="feather feather-trash-2 s-task-delete list-delete deleteBtn"
                                                                                                    href="javascript:void(0);">
                                                                                                    <polyline
                                                                                                        points="3 6 5 6 21 6">
                                                                                                    </polyline>
                                                                                                    <path
                                                                                                        d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                                                                                    </path>
                                                                                                    <line x1="10"
                                                                                                        y1="11" x2="10"
                                                                                                        y2="17">
                                                                                                    </line>
                                                                                                    <line x1="14"
                                                                                                        y1="11" x2="14"
                                                                                                        y2="17">
                                                                                                    </line>
                                                                                                </svg>

                                                                                            </div>
                                                                                            <% } %>

                                                                    </div>
                                                                </div>
                                                            </div>






                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <% } %>




                            </div>

                            <% }else{ %>
                                <h2 class="p-3 bg-dark rounded text-white text-center">You have no pass
                                    requests...</h2>
                                <% } %>
                    </div>


                </div>
        </div>
    </div>
    <!--  END CONTENT AREA  -->

    </div>
    <!-- END MAIN CONTAINER -->

    <script>
        $('#modal-blockui').on('click', function () {
            var block = $('#modal-reload');
            $(block).block({
                message: '<svg> ... </svg>',
                showOverlay: false,
                timeout: 2000, //unblock after 2 seconds
                css: {
                    border: 0,
                    color: '#000',
                    padding: 0,
                    backgroundColor: 'transparent'
                }
            });
        });


    </script>
    <script src="/assets/js/ie11fix/fn.fix-padStart.js"></script>
    <script src="/assets/js/apps/scrumboard.js"></script>
    <script src="/plugins/dropify/dropify.min.js"></script>
    <script src="/plugins/blockui/jquery.blockUI.min.js"></script>
    <script src="/assets/js/users/account-settings.js"></script>

    <script>
        for (let deleteBtn of document.querySelectorAll('.deleteBtn')) {
            deleteBtn.addEventListener('click', function (evt) {
                document.querySelector('.deleteConfirm').addEventListener('click', async function (evt) {
                    console.log(deleteBtn.getAttribute('data-pass-id'))
                    evt.stopPropagation();
                    evt.preventDefault();
                    const res = await fetch('/dormitory/student/pass-request/' + deleteBtn.getAttribute('data-pass-id') + '/delete', {
                        method: 'post'
                    });
                    console.log(await res.json());
                })
            })
        }
    </script>